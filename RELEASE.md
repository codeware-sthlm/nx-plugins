# Release Packages

Instructions how to create new package releases and publish to NPM.

## TLDR

Recommend the interactive CLI âœ¨

```sh
yarn release
```

## Intro

The release process is semi-automatic which means:

- Release information and git tags are generated from a local machine by a developer
- Publish to NPM by GitHub action

## Release information and git tags

Verify release information in **dry-run** mode

```sh
npx nx release --skip-publish -d
```

Does everything looks good, generate releases

```sh
npx nx release --skip-publish
```

### Result

For affected packages

- Updated `CHANGELOG.md`
- Updated `package.json`
- One release commit for all packages **[ pushed ]**
- Created version tags **[ pushed ]**

## Publish to NPM

GitHub action defined in `publish.yml` is triggered by new tags

- `create-nx-payload-*.*.*`
- `nx-payload-*.*.*`

Simplified it executes the publish command

```sh
npx nx release publish
```

### Publish from local machine

When needed it's simple to do this manually as well

```sh
npx nx release publish --otp {token}
```

where `{token}` is generated by your 2FA authenticator app.
